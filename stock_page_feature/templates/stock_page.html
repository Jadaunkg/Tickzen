<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI-powered stock analysis and price prediction for {{ ticker }} - Comprehensive technical analysis, fundamentals, and trading strategies">
    <title>{{ ticker }} Stock Analysis | AI Price Prediction & Forecast | Tickzen</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../static/css/stock_page.css">
</head>
<body>
    <!-- Header Section -->
    <header class="stock-header">
        <div class="header-container">
            <div class="stock-title">
                <h1>{{ ticker }}</h1>
                <p class="company-name">{{ company_name }}</p>
            </div>
            <div class="stock-price-badge">
                <span class="current-price">${{ current_price }}</span>
                <span class="price-change {{ 'positive' if (price_change | float) >= 0 else 'negative' }}">
                    <i class="fas fa-{{ 'arrow-up' if (price_change | float) >= 0 else 'arrow-down' }}"></i>
                    {{ price_change }}{% if price_change_percent is defined %} ({{ price_change_percent }}%){% endif %}
                </span>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="section-tabs-container">
        <div class="section-tabs">
            <button class="tab-button active" data-section="overview">
                <i class="fas fa-chart-line"></i>
                <span>Overview</span>
            </button>
            <button class="tab-button" data-section="forecast">
                <i class="fas fa-crystal-ball"></i>
                <span>Forecast</span>
            </button>
            <button class="tab-button" data-section="technical">
                <i class="fas fa-chart-bar"></i>
                <span>Technical</span>
            </button>
            <button class="tab-button" data-section="fundamentals">
                <i class="fas fa-calculator"></i>
                <span>Fundamentals</span>
            </button>
            <button class="tab-button" data-section="company">
                <i class="fas fa-building"></i>
                <span>Company</span>
            </button>
            <button class="tab-button" data-section="trading">
                <i class="fas fa-bullseye"></i>
                <span>Strategies</span>
            </button>
            <button class="tab-button" data-section="conclusion">
                <i class="fas fa-flag-checkered"></i>
                <span>Conclusion</span>
            </button>
        </div>
        
        <!-- Mobile dropdown for tabs -->
        <div class="mobile-tab-selector">
            <button class="mobile-dropdown-btn" id="mobileSectionBtn">
                <i class="fas fa-chart-line"></i>
                <span id="currentSectionName">Overview</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="mobile-dropdown-menu" id="mobileDropdownMenu">
                <button class="mobile-tab-option active" data-section="overview">
                    <i class="fas fa-chart-line"></i> Overview
                </button>
                <button class="mobile-tab-option" data-section="forecast">
                    <i class="fas fa-crystal-ball"></i> Forecast
                </button>
                <button class="mobile-tab-option" data-section="technical">
                    <i class="fas fa-chart-bar"></i> Technical Analysis
                </button>
                <button class="mobile-tab-option" data-section="fundamentals">
                    <i class="fas fa-calculator"></i> Fundamentals
                </button>
                <button class="mobile-tab-option" data-section="company">
                    <i class="fas fa-building"></i> Company Details
                </button>
                <button class="mobile-tab-option" data-section="trading">
                    <i class="fas fa-bullseye"></i> Trading Strategies
                </button>
                <button class="mobile-tab-option" data-section="conclusion">
                    <i class="fas fa-flag-checkered"></i> Conclusion
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="stock-content-container">
        <!-- Overview Section -->
        <section id="overview" class="section-content active">
            <div class="section-header">
                <h2><i class="fas fa-chart-line"></i> Overview</h2>
                <p class="section-description">Key metrics and market snapshot for {{ ticker }}</p>
            </div>
            
            <div class="content-wrapper">
                <!-- Key Metrics Grid -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="metric-info">
                            <span class="metric-label">Market Cap</span>
                            <span class="metric-value">{{ market_cap }}</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-chart-area"></i>
                        </div>
                        <div class="metric-info">
                            <span class="metric-label">Volume</span>
                            <span class="metric-value">{{ volume }}</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="metric-info">
                            <span class="metric-label">P/E Ratio</span>
                            <span class="metric-value">{{ pe_ratio }}</span>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="metric-info">
                            <span class="metric-label">Dividend Yield</span>
                            <span class="metric-value">{{ dividend_yield }}</span>
                        </div>
                    </div>
                </div>

                <!-- Introduction Content -->
                <div class="section-block">
                    <h3>Executive Summary</h3>
                    <div id="overview-introduction">
                        {{ overview_introduction | default('Loading introduction...') | safe }}
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="section-block">
                    <h3>Quick Statistics</h3>
                    <div id="overview-quick-stats">
                        {{ overview_quick_stats | default('Loading statistics...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Forecast Section -->
        <section id="forecast" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-crystal-ball"></i> Price Forecast</h2>
                <p class="section-description">AI-powered price predictions and future outlook</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Forecast Summary</h3>
                    <div id="forecast-summary">
                        {{ forecast_summary | default('Loading forecast data...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Detailed Forecast Table</h3>
                    <div id="forecast-table">
                        {{ forecast_table | default('Loading forecast table...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Price Chart</h3>
                    <div id="forecast-chart">
                        {{ forecast_chart | default('Loading chart...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Analysis Section -->
        <section id="technical" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-chart-bar"></i> Technical Analysis</h2>
                <p class="section-description">Technical indicators and trading signals</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Technical Summary</h3>
                    <div id="technical-summary">
                        {{ technical_summary | default('Loading technical analysis...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Key Indicators</h3>
                    <div id="technical-indicators">
                        {{ technical_indicators | default('Loading indicators...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Chart Analysis</h3>
                    <div id="technical-charts">
                        {{ technical_charts | default('Loading charts...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Fundamentals Section -->
        <section id="fundamentals" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-calculator"></i> Fundamental Analysis</h2>
                <p class="section-description">Financial metrics and company fundamentals</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Valuation Metrics</h3>
                    <div id="fundamentals-valuation">
                        {{ fundamentals_valuation | default('Loading valuation metrics...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Financial Health</h3>
                    <div id="fundamentals-health">
                        {{ fundamentals_health | default('Loading financial health...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Profitability & Growth</h3>
                    <div id="fundamentals-growth">
                        {{ fundamentals_growth | default('Loading growth metrics...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Analyst Insights</h3>
                    <div id="fundamentals-analyst">
                        {{ fundamentals_analyst | default('Loading analyst insights...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Company Details Section -->
        <section id="company" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-building"></i> Company Details</h2>
                <p class="section-description">Corporate profile and business information</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Company Profile</h3>
                    <div id="company-profile">
                        {{ company_profile | default('Loading company profile...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Business Overview</h3>
                    <div id="company-business">
                        {{ company_business | default('Loading business overview...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Industry & Sector</h3>
                    <div id="company-industry">
                        {{ company_industry | default('Loading industry information...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Trading Strategies Section -->
        <section id="trading" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-bullseye"></i> Trading Strategies</h2>
                <p class="section-description">Actionable trading recommendations and strategies</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Recommended Strategies</h3>
                    <div id="trading-strategies">
                        {{ trading_strategies | default('Loading trading strategies...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Entry & Exit Points</h3>
                    <div id="trading-points">
                        {{ trading_points | default('Loading entry/exit points...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Risk Management</h3>
                    <div id="trading-risk">
                        {{ trading_risk | default('Loading risk management...') | safe }}
                    </div>
                </div>
            </div>
        </section>

        <!-- Conclusion Section -->
        <section id="conclusion" class="section-content">
            <div class="section-header">
                <h2><i class="fas fa-flag-checkered"></i> Conclusion & Outlook</h2>
                <p class="section-description">Investment summary and future outlook</p>
            </div>
            
            <div class="content-wrapper">
                <div class="section-block">
                    <h3>Investment Outlook</h3>
                    <div id="conclusion-outlook">
                        {{ conclusion_outlook | default('Loading outlook...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Risk Factors</h3>
                    <div id="conclusion-risks">
                        {{ conclusion_risks | default('Loading risk factors...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Final Recommendation</h3>
                    <div id="conclusion-recommendation">
                        {{ conclusion_recommendation | default('Loading recommendation...') | safe }}
                    </div>
                </div>

                <div class="section-block">
                    <h3>Frequently Asked Questions</h3>
                    <div id="conclusion-faq">
                        {{ conclusion_faq | default('Loading FAQ...') | safe }}
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="stock-footer">
        <div class="footer-container">
            <p class="disclaimer">
                <i class="fas fa-info-circle"></i>
                <strong>Disclaimer:</strong> This analysis is for informational purposes only and should not be considered financial advice. 
                Always conduct your own research and consult with a financial advisor before making investment decisions.
            </p>
            <p class="report-info">
                Report generated on {{ generated_at }} | Last updated: {{ last_updated }}
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../static/js/stock_page.js"></script>
</body>
</html>
